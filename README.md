# Rflix-User-Center

Rflix-User-Center is a robust user management and automation system designed for Jellyfin media servers. It provides a seamless interface for user registration, subscription management, and automated account provisioning.

## üöÄ Key Features

- **Automated User Management**: Automatically creates and manages Jellyfin accounts upon registration.
- **Dynamic Form Builder**: Fully customizable registration forms managed directly from the Admin Dashboard. Add, edit, or remove fields without touching code.
- **Neumorphic Design**: A modern, sleek, and responsive user interface with Dark/Light mode support.
- **Subscription System**: Manage user subscriptions with automated expiration handling.
- **Secure Authentication**: JWT-based authentication with HttpOnly cookies and reCAPTCHA/Turnstile integration.
- **Admin Dashboard**: comprehensive control panel for managing users, approvals, logs, and system settings.
- **Setup Wizard**: Easy-to-use GUI wizard for initial server configuration.

## üõ†Ô∏è Tech Stack

- **Backend**: Node.js, Express.js
- **Database**: SQLite (via `better-sqlite3`)
- **Frontend**: HTML5, Vanilla CSS (Neumorphism), JavaScript
- **Integration**: Jellyfin API

## üì¶ Installation

### Prerequisites

- Node.js v16+
- Jellyfin Server (Running)

### Quick Start

1.  **Clone the repository**

    ```bash
    git clone https://github.com/rdk-i/Rflix-User-Center
    cd Rflix-User-Center
    ```

2.  **Install dependencies**

    ```bash
    npm install
    ```

3.  **Run Database Migrations**

    ```bash
    npm run migrate
    ```

4.  **Start the Server**

    ```bash
    npm start
    ```

5.  **Setup Wizard**
    Open your browser and navigate to `http://localhost:3000`. You will be greeted by the Setup Wizard to configure your admin account and Jellyfin connection.

## üîß Configuration

The application uses a `.env` file for configuration, which is automatically generated by the Setup Wizard. Key variables include:

- `PORT`: Server port (default: 3000)
- `JELLYFIN_URL`: URL of your Jellyfin server
- `JELLYFIN_API_KEY`: API Key from Jellyfin Dashboard
- `JWT_SECRET`: Secret key for session security
- `CAPTCHA_PROVIDER`: 'turnstile' or 'recaptcha'

## üìù API Documentation

### Public Endpoints

- `POST /api/auth/login`: User login
- `POST /api/registration`: Register new account
- `GET /api/form-fields`: Fetch dynamic registration form fields

### Admin Endpoints (Protected)

- `GET /api/admin/users`: List all users
- `POST /api/form-fields`: Add new registration field
- `PUT /api/form-fields/:id`: Update registration field
- `DELETE /api/form-fields/:id`: Delete registration field

## ü§ù Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

## üìÑ License

This project is licensed under the MIT License.
